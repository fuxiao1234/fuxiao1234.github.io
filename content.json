{"meta":{"title":"Hexo","subtitle":"","description":"","author":"John Doe","url":"http://example.com","root":"/"},"pages":[{"title":"","date":"2024-06-11T13:50:56.405Z","updated":"2024-06-11T13:50:56.405Z","comments":true,"path":"css/white.css","permalink":"http://example.com/css/white.css","excerpt":"","text":":root { --color-bg: #f6f8fa; --color-theme-main: #b54047; --color-text-main: #24292f; --color-text-secondary: rgba(51,51,51,0.4); --color-dress: rgba(51,51,51,0.2); --color-embellish: #ecedee; } .night { --color-bg: #3b3a3a; --color-theme-main: #1f3fb0; --color-text-main: #e1e1e1; --color-text-secondary: rgba(225,225,225,0.4); --color-dress: rgba(225,225,225,0.2); --color-embellish: #444; } .cookie { --color-bg: #c1c2c5; --color-theme-main: #b54047; --color-text-main: #292e4b; --color-text-secondary: rgba(41,46,75,0.6); --color-dress: rgba(41,46,75,0.2); --color-embellish: #cfd0d3; } .forest { --color-bg: #026a39; --color-theme-main: #f7bd08; --color-text-main: #f0f2e5; --color-text-secondary: rgba(240,242,229,0.6); --color-dress: rgba(240,242,229,0.2); --color-embellish: #03502b; } @font-face { font-family: hack-regular; src: url(\"https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/font/Hack-Regular.ttf\"); } @font-face { font-family: hack-italic; src: url(\"https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/font/Hack-Italic.ttf\"); } @font-face { font-family: hack-bold; src: url(\"https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/font/Hack-Bold.ttf\"); } @font-face { font-family: hack-bolditalic; src: url(\"https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/font/Hack-BoldItalic.ttf\"); } @font-face { font-family: Gothic; src: url(\"https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/font/GOTHIC.TTF\"); } @font-face { font-family: Merriweather; src: url(\"https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/font/Merriweather-Regular-9.ttf\"); } .common-typographic { font-size: 1.3em; font-family: 'Noto Serif SC', serif; font-weight: 300; color: var(--color-text-main); } .common-typographic ul, .common-typographic ol { padding-left: 2em; margin: 20px 0; } .common-typographic h1, .common-typographic h2, .common-typographic h3, .common-typographic h4, .common-typographic h5, .common-typographic h6 { margin-top: 23px; margin-bottom: 16px; font-family: 'Noto Serif SC', serif; } .common-typographic h1::after, .common-typographic h2::after { content: \"#\"; display: inline-block; color: var(--color-text-secondary); font-family: 'Roboto Mono', monospace; margin-left: 0.5rem; font-weight: border; } .common-typographic code { background: var(--color-embellish); font-size: 0.85em; padding: 0 7px; font-family: 'Roboto Mono', monospace; } .common-typographic pre { max-width: 800px; overflow: auto; font-size: 0.85em; margin: 22px 0; padding: 1.3em 1.2em; background: var(--color-embellish); } .common-typographic pre > code { font-family: 'Roboto Mono', monospace; background: none; } .common-typographic p { margin: 20px 0; } .common-typographic img { max-width: 100%; } .common-typographic .lazyload-img-span { margin: 10px 0; } .common-typographic iframe { width: 100%; aspect-ratio: 3.1/2; } .common-typographic hr { margin: 24px 0; height: 3px; border: none; background-color: var(--color-embellish); } .common-typographic strong { font-family: 'Noto Serif SC', serif; } .common-typographic blockquote { background: var(--color-embellish); margin: 22px 0; font-size: 0.9em; padding: 1em; quotes: \"\\201C\" \"\\201D\" \"\\2018\" \"\\2019\"; } .common-typographic blockquote:before { color: var(--color-dress); content: '“'; font-size: 4em; line-height: 0.1em; margin-right: 0.05em; vertical-align: -0.24em; margin-left: -0.45em; } .common-typographic blockquote p { display: inline; } .common-typographic a { color: var(--color-theme-main); transition: all 0.2s; } .common-typographic a:hover { box-shadow: 0 1.1px var(--color-theme-main); } .common-typographic table { border-collapse: collapse; margin: 30px 0px; width: 100%; border-width: 2px; border-style: solid; border-color: var(--color-embellish); border-image: initial; border-spacing: 0px; display: table; } .common-typographic table thead { box-shadow: var(--color-embellish) 0px 4px 8px 0px; display: table-header-group; vertical-align: middle; border-color: inherit; } .common-typographic table th, .common-typographic table td { padding: 0.9rem; border-width: 1px; border-style: solid; border-color: var(--color-embellish); border-image: initial; } .common-typographic table tbody { display: table-row-group; vertical-align: middle; border-color: inherit; } .common-typographic table tbody tr { display: table-row; vertical-align: inherit; border-color: inherit; } * { padding: 0; margin: 0; } body { height: 100%; width: 100%; transition: all 0.2s; background: var(--color-bg); overflow-x: hidden; } a { text-decoration: none; color: var(--color-text-main); } .menu-outer { font-family: 'Noto Serif SC', serif; width: 100%; display: flex; justify-content: center; } .menu-inner { width: 1500px; display: flex; justify-content: space-between; align-items: center; padding: 25px 0; transition: all 0.3s; } .menu-site-name, .mobile-menu-site-name { font-family: 'Noto Serif SC', serif; font-size: 1.9em; } .menu-site-name a { color: var(--color-text-secondary); transition: all 0.4s; position: relative; } .menu-site-name a:hover { color: var(--color-text-main); } .menu-ul { list-style: none; } .menu-li { cursor: pointer; float: left; margin-right: 20px; padding: 0 10px; font-size: 1.1em; color: var(--color-text-secondary); position: relative; transition: all 0.4s; } .menu-li:hover { color: var(--color-text-main); } .active-link .menu-li { position: relative; } .active-link .menu-li:after { content: \"\"; position: absolute; top: 0; right: 0; width: 5px; height: 5px; background-color: var(--color-theme-main); border-radius: 50%; z-index: -1; } .body-outer { height: 100%; width: 100%; display: flex; justify-content: center; } .intro-section { width: 1500px; } .intro-section .intro-content { margin-top: 100px; width: 60%; } .intro-section .intro-title { font-family: 'Noto Serif SC', serif; font-size: 4.5em; font-weight: 1000; margin: 0; padding: 0; } .intro-section .intro-sub { font-family: 'Noto Serif SC', serif; margin-top: 30px; font-size: 1.32em; line-height: 1.8em; margin-left: 5px; } .intro-section .intro-contact { margin-top: 10px; font-size: 1.5em; line-height: 1.8em; margin-left: 5px; } .intro-section .intro-contact a { color: var(--color-text-secondary); transition: all 0.2s; } .intro-section .intro-contact a:hover { color: var(--color-text-main); } .intro-section .intro-content, .intro-section a { color: var(--color-text-main); text-decoration: none; margin-right: 3px; } .paginator { margin: 50px 0; font-family: 'Noto Serif SC', serif; text-align: center; font-size: 1.17em; } .paginator .page-number, .paginator .space { display: none; } .paginator .extend { color: var(--color-text-secondary); transition: all 0.2s; } .paginator .extend:hover { color: var(--color-text-main); } .footer-outer { display: flex; justify-content: center; font-family: 'Noto Serif SC', serif; } .footer-inner { padding: 40px 0; width: 1500px; display: flex; justify-content: space-between; } .footer-text { color: var(--color-text-secondary); font-size: 1.1em; } .footer-text a { color: var(--color-text-secondary); transition: all 0.2s; } .footer-text a:hover { color: var(--color-text-main); } .footer-contact { font-size: 1.2em; } .footer-ul { list-style: none; } .footer-li { float: left; margin-right: 10px; transition: all 0.3s; } .footer-li i { color: var(--color-text-secondary); font-size: 1.2em; transition: all 0.2s; padding: 5px; border-radius: 100%; } .footer-li:hover i { color: var(--color-text-main); } .img-show-outer { width: 1500px; } .img-show-inner { margin-top: 50px; display: flex; justify-content: space-between; flex-wrap: wrap; } .img-show-post { flex-basis: 31%; } .img-show-post .img-show-post-cover-class { width: 100%; height: 350px; object-fit: cover; } .img-show-post-title { text-align: center; font-size: 1.4em; margin-top: 30px; color: var(--color-text-main); font-family: 'Noto Serif SC', serif; position: relative; line-height: 2.5; transition: all 0.4s; } .img-show-post-title:after { content: \"\"; position: absolute; width: 40px; height: 1.1px; background-color: var(--color-theme-main); bottom: 0; left: 50%; transform: translateX(-50%); transition: all 0.4s; } .img-show-post-title:hover { text-shadow: 1px 2px 4px var(--color-text-secondary); } .img-show-post-title:hover:after { width: 60px; } .img-show-post-date { text-align: center; font-family: 'Noto Serif SC', serif; font-size: 0.9em; margin-bottom: 45px; margin-top: -9px; color: var(--color-text-secondary); } .img-show-post { display: flex; flex-direction: column; } .img-show-post:first-child { flex-basis: 100%; flex-direction: row; margin-bottom: 85px; } .img-show-post:first-child .img-show-post-cover { flex-basis: 65.5%; } .img-show-post:first-child .img-show-post-intro { flex-basis: 34%; margin: auto; } .img-show-post-cover { transition: all 0.4s; } .img-show-post-cover:hover { transform: scale(1.05); box-shadow: 0 6px 9px 0 rgba(51,51,51,0.2); } .simple-inner { margin-top: 60px; width: 800px; } .simple-inner a { color: var(--color-text-main); } .simple-item-meta { display: flex; font-family: 'Noto Serif SC', serif; align-content: center; margin-bottom: 2px; font-size: 0.7em; } .simple-item-meta img { width: 25px; height: 25px; display: block; border-radius: 100%; } .simple-item-meta .simple-meta-name { margin-left: 6px; color: var(--color-text-main); } .simple-item-meta .simple-meta-date { margin-left: 5px; color: var(--color-text-secondary); } .simple-post-list .item-divider:not(:first-child) { box-shadow: 0 -1.1px var(--color-embellish); } .item-divider { margin-bottom: 30px; padding-top: 35px; } .item-divider .homepage-title { font-family: 'Noto Serif SC', serif; margin-bottom: 10px; color: var(--color-text-main); font-size: 1.3em; font-weight: 1000; } .item-divider .homepage-content { font-family: 'Noto Serif SC', serif; font-size: 0.9em; line-height: 1.55; font-weight: 200; } .item-divider .homepage-content p { margin: 0; } .item-divider .homepage-content a { color: var(--color-theme-main); padding: 0 3px; } .item-divider .homepage-contact { margin-top: 9px; font-size: 1em; } .item-divider .homepage-contact a { color: var(--color-text-secondary); transition: all 0.2s; margin-right: 7px; } .item-divider .homepage-contact a:hover { color: var(--color-theme-main); box-shadow: none; } .item-homepage { margin-bottom: 15px; } .simple-post-item { display: flex; } .simple-post-item .simple-item-left { justify-content: center; } .simple-post-item .simple-item-right { flex-basis: 1200px; margin-left: 15px; } .simple-post-item .simple-item-right img { width: 100%; object-fit: cover; height: 100%; } .simple-post-item .simple-item-right a:hover { box-shadow: none; } .simple-post-title { margin-bottom: 2px; font-family: 'Noto Serif SC', serif; color: var(--color-text-main); font-size: 1.3em; font-weight: 1000; } .simple-post-excerpt { font-family: 'Noto Serif SC', serif; font-size: 0.87em; color: var(--color-text-secondary); } .simple-post-excerpt p { margin: 0; } .simple-post-excerpt a { color: var(--color-text-secondary); } .bottom-comments-outer { display: flex; justify-content: center; width: 800px; border-top: 1px solid var(--color-embellish); margin: auto; margin-top: 50px; margin-bottom: 100px; } .bottom-comments-inner { width: 800px; } .bottom-comments-inner .comment-title { margin-bottom: 30px; } @media screen and (max-width: 1000px) { .bottom-comments-inner { width: 730px; } } @media screen and (max-width: 700px) { .bottom-comments-inner { width: 570px; } } @media screen and (max-width: 550px) { .bottom-comments-inner { width: 470px; } } @media screen and (max-width: 450px) { .bottom-comments-inner { width: 350px; } } .post-inner { margin-top: 80px; } .post-intro { width: 800px; margin: auto; box-shadow: 0 1.1px var(--color-embellish); padding-bottom: 20px; } .post-meta { display: flex; font-family: 'Noto Serif SC', serif; align-content: center; margin-bottom: 7px; } .post-meta img { width: 25px; height: 25px; display: block; border-radius: 100%; } .post-meta .post-meta-name { margin-left: 6px; color: var(--color-text-main); } .post-meta .post-meta-date { margin-left: 5px; color: var(--color-text-secondary); } .post-title { font-size: 2.5em; font-weight: bold; color: var(--color-text-main); font-family: 'Noto Serif SC', serif; margin-bottom: 10px; } .post-cover { margin-bottom: 15px; } .post-cover-img { min-width: 100%; max-width: 100%; height: 350px; object-fit: cover; } .meta-intro { font-size: 0.9em; font-family: 'Noto Serif SC', serif; text-align: center; color: var(--color-text-secondary); } .post-content-inner { margin-top: 50px; display: flex; width: 100vw; justify-content: center; } .post-content-inner .post-content-main { flex-basis: 800px; max-width: 800px; } .post-content-inner .post-placeholder { flex: 1; } .post-annotated { margin-top: 50px; font-family: 'Noto Serif SC', serif; color: var(--color-text-secondary); font-weight: 1000; } .post-toc { margin-left: 40px; position: sticky; top: 50px; font-size: 0.83em; bottom: 30px; } .post-toc ul, .post-toc ol { padding-left: 1em; margin: 0; } .post-toc a { color: var(--color-text-secondary); } .post-toc a:hover { box-shadow: none; color: var(--color-text-main); } .toc { overflow-y: auto; font-family: 'Noto Serif SC', serif; } .toc > .toc-list { overflow: hidden; position: relative; } .toc > .toc-list li { list-style: none; } .js-toc { overflow-y: hidden; } .toc-list { margin: 0; padding-left: 10px; } .toc-link { color: var(--color-text-secondary); height: 100%; } .is-collapsible { max-height: 1000px; overflow: hidden; transition: all 0.3s ease-in-out; } .is-collapsed { max-height: 0; } .is-position-fixed { position: fixed !important; top: 0; } .toc-link::before { background-color: var(--color-embellish); content: ' '; display: inline-block; height: inherit; left: 0; margin-top: -1px; position: absolute; width: 1.1px; } a.is-active-link { color: #333; } .lazyload-img-span { display: block; position: relative; font-size: 0; } .lazyload-img-span::before { position: absolute; top: 0; left: 0; content: \"\"; background-color: var(--color-embellish); z-index: 1; width: 100%; height: 100%; transition: all 0.82s; } .img-masks::before { width: 0; } .search { margin-top: 30px; margin-bottom: 200px; } .search-input-outer * { box-sizing: border-box; } .search-input-outer form { position: relative; width: 55%; margin: 0 auto; } .search-input-outer input, .search-input-outer button { border: none; outline: none; } .search-input-outer input { width: 100%; height: 42px; padding-left: 13px; padding-right: 46px; background: transparent; border: 2px solid var(--color-theme-main); } .search-input-outer button { height: 42px; width: 42px; cursor: pointer; position: absolute; background: var(--color-theme-main); color: #fff; } #local-search-result { border-top: 1px dashed var(--color-text-secondary); margin-top: 40px; padding-top: 30px; } #local-search-result li { list-style: none; margin-bottom: 40px; } #local-search-result .search-result-title { color: #333; font-size: 1.3em; font-weight: 700; transition: all 0.2s; } #local-search-result .search-result-title:hover { text-decoration: none; color: var(--color-theme-main); } #local-search-result .search-keyword { color: var(--color-theme-main); font-weight: 1000; } #mobile-main { background: var(--color-bg); width: 100%; height: 100%; position: fixed; z-index: 9999; transition: all 0.3s; top: 0; left: 0; display: none; } #mobile-main .mobile-menu-div { margin-top: 20px; display: flex; flex-direction: column; text-align: center; } #mobile-main .mobile-menu-div .mobile-menu-child { margin-top: 50px; font-family: 'Noto Serif SC', serif; font-size: 2.2em; font-weight: 1000; } .mobile-menu-inner { display: flex; justify-content: space-between; padding: 30px 30px; } .mobile-menu-inner .mobile-menu-group { font-size: 2em; cursor: pointer; } .moibile-active-link span { box-shadow: inset 0 -0.2em 0 var(--color-theme-main); } #mobile-menu { display: none; cursor: pointer; font-size: 1.7em; } @media screen and (max-width: 1000px) { .menu-site-name { margin-left: 23px; } .footer-text { margin-left: 23px; } .intro-content { margin-left: 23px; } .post-content-inner { justify-content: center; } .post-content-inner .post-content-main { flex-basis: 730px; max-width: 730px; } .post-content-inner .post-content-inner-space { display: none; } .img-show-inner { justify-content: space-around; } .img-show-post { flex-basis: 45%; } .img-show-post:first-child { flex-basis: 45%; flex-direction: column; margin-bottom: 0px; } } @media screen and (max-width: 700px) { .menu-li { display: none; } #mobile-menu { display: block; } .img-show-inner { flex-direction: column; } .img-show-inner .img-show-post { margin-left: 30px; margin-right: 30px; } .post-content-inner .post-content-main { flex-basis: 570px; max-width: 570px; } } @media screen and (max-width: 550px) { .archive-post-date { display: none; } .footer-contact { display: none; } .footer-inner { justify-content: center; } .post-content-inner .post-content-main { flex-basis: 470px; max-width: 470px; } } @media screen and (max-width: 450px) { .post-content-inner .post-content-main { flex-basis: 350px; max-width: 350px; } }"},{"title":"","date":"2024-06-11T13:50:56.414Z","updated":"2024-06-11T13:50:56.414Z","comments":true,"path":"js/search.js","permalink":"http://example.com/js/search.js","excerpt":"","text":"var searchFunc = function(path, search_id, content_id) { 'use strict'; $.ajax({ url: path, dataType: \"xml\", success: function( xmlResponse ) { // get the contents from search data var datas = $( \"entry\", xmlResponse ).map(function() { return { title: $( \"title\", this ).text(), content: $(\"content\",this).text(), url: $( \"url\" , this).text() }; }).get(); var $input = document.getElementById(search_id); var $resultContent = document.getElementById(content_id); $input.addEventListener('input', function(){ var str=''; var keywords = this.value.trim().toLowerCase().split(/[\\s\\-]+/); $resultContent.innerHTML = \"\"; if (this.value.trim().length /g,\"\").toLowerCase(); var data_url = data.url; var index_title = -1; var index_content = -1; var first_occur = -1; // only match artiles with not empty titles and contents if(data_title != '' && data_content != '') { keywords.forEach(function(keyword, i) { index_title = data_title.indexOf(keyword); index_content = data_content.indexOf(keyword); if( index_title < 0 && index_content < 0 ){ isMatch = false; } else { if (index_content < 0) { index_content = 0; } if (i == 0) { first_occur = index_content; } } }); } // show search results if (isMatch) { str += \"\"+ data_title +\"\"; var content = data.content.trim().replace(/]+>/g,\"\"); if (first_occur >= 0) { // cut out 100 characters var start = first_occur - 20; var end = first_occur + 80; if(start < 0){ start = 0; } if(start == 0){ end = 100; } if(end > content.length){ end = content.length; } var match_content = content.substr(start, end); // highlight all keywords keywords.forEach(function(keyword){ var regS = new RegExp(keyword, \"gi\"); match_content = match_content.replace(regS, \"\"+keyword+\"\"); }); str += \"\" + match_content +\"...\" } str += \"\"; } }); str += \"\"; $resultContent.innerHTML = str; }); } }); }"},{"title":"","date":"2024-06-11T13:50:56.413Z","updated":"2024-06-11T13:50:56.413Z","comments":true,"path":"js/white.js","permalink":"http://example.com/js/white.js","excerpt":"","text":"function isActive(pathname) { let rootPath = window.location.pathname let path = pathname + \"/\" return pathname === rootPath || path === rootPath; } let links = document.querySelectorAll(\".nav-link\"); for (let link of links) { let linkPath = link.getAttribute(\"href\"); if (isActive(linkPath)) { link.className = \"active-link nav-link\"; } } let mlinks = document.querySelectorAll(\".mobile-nav-link\"); for (let mlink of mlinks) { let mlinkPath = mlink.getAttribute(\"href\"); if (isActive(mlinkPath)) { mlink.className = \"moibile-active-link mobile-nav-link\"; } } // 设置收起的menu点击的效果 var mmenu = document.getElementById(\"mobile-menu\"); var mmain = document.getElementById(\"mobile-main\"); var mclose = document.getElementById(\"mobile-close\"); mmenu.onclick = function () { mmain.style.display = \"block\"; } mclose.onclick = function () { mmain.style.display = \"none\"; } // 切换颜色 // let change = document.getElementById(\"theme-change-btn\") // let changeList = [ // { // text: \"白昼\", // code: \"day\" // }, // { // text: \"午夜\", // code: \"night\" // }, // { // text: \"饼干\", // code: \"cookie\" // }, // { // text: \"森林\", // code: \"forest\" // } // ] // var currentIndex = 0 // change.onclick = function (){ // console.log(\"you click change theme btn and currentIndex = \" + currentIndex) // currentIndex = (currentIndex + 1) % changeList.length; // this.innerHTML = changeList[currentIndex].text; // document.body.className = changeList[currentIndex].code; // // 将状态存入缓存中 // localStorage.setItem('hexo-white-theme-mode', changeList[currentIndex].code); // } // // let beginCode = localStorage.getItem('hexo-white-theme-mode') || \"cookie\" // day是默认 // let tmpElement = changeList.filter(item => item.code === beginCode)[0] // change.innerHTML = tmpElement.text // currentIndex = changeList.indexOf(tmpElement) // document.body.className = tmpElement.code // localStorage.setItem('hexo-white-theme-mode', tmpElement.code); /////////////////////////////////////////////////////////////////////////////////// //设置sort的子目录隐藏显示效果 if (document.getElementById(\"sort\")) { var sort = document.getElementById(\"sort\"); var sortdiv = document.getElementById(\"sort-div\"); sort.onmouseover = function () { sortdiv.style.display = \"block\"; } sort.onmouseout = function () { sortdiv.onmouseover = function () { console.log(\"wuhu\"); } sortdiv.onmouseout = function () { sortdiv.style.display = \"none\"; } } } // 图片懒加载 var imgs = document.querySelectorAll('img.lazyload-img'); var imgdivs = document.querySelectorAll('.lazyload-img-span'); // 用来判断bound.top"},{"title":"","date":"2024-06-11T13:50:56.420Z","updated":"2024-06-11T13:50:56.420Z","comments":true,"path":"lib/tocbot/tocbot.min.css","permalink":"http://example.com/lib/tocbot/tocbot.min.css","excerpt":"","text":".toc { overflow-y: auto } .toc > .toc-list { overflow: hidden; position: relative } .toc > .toc-list li { list-style: none } .js-toc { overflow-y: hidden } .toc-list { margin: 0; padding-left: 10px } a.toc-link { color: currentColor; height: 100% } .is-collapsible { max-height: 1000px; overflow: hidden; transition: all .3s ease-in-out } .is-collapsed { max-height: 0 } .is-position-fixed { position: fixed !important; top: 0 } .is-active-link { font-weight: 700 } .toc-link::before { background-color: #eee; content: ' '; display: inline-block; height: inherit; left: 0; margin-top: -1px; position: absolute; width: 2px } .is-active-link::before { background-color: #de7441 }"},{"title":"","date":"2024-06-11T13:50:56.438Z","updated":"2024-06-11T13:50:56.438Z","comments":true,"path":"lib/tocbot/tocbot.min.js","permalink":"http://example.com/lib/tocbot/tocbot.min.js","excerpt":"","text":"(()=>{var e={163:e=>{e.exports=function(e){var t,n=[].forEach,l=[].some,o=document.body,i=!0,r=\" \";function s(t,l){var o,i,c,d=l.appendChild((o=t,i=document.createElement(\"li\"),c=document.createElement(\"a\"),e.listItemClass&&i.setAttribute(\"class\",e.listItemClass),e.onClick&&(c.onclick=e.onClick),e.includeTitleTags&&c.setAttribute(\"title\",o.textContent),e.includeHtml&&o.childNodes.length?n.call(o.childNodes,(function(e){c.appendChild(e.cloneNode(!0))})):c.textContent=o.textContent,c.setAttribute(\"href\",e.basePath+\"#\"+o.id),c.setAttribute(\"class\",e.linkClass+r+\"node-name--\"+o.nodeName+r+e.extraLinkClasses),i.appendChild(c),i));if(t.children.length){var u=a(t.isCollapsed);t.children.forEach((function(e){s(e,u)})),d.appendChild(u)}}function a(t){var n=e.orderedList?\"ol\":\"ul\",l=document.createElement(n),o=e.listClass+r+e.extraListClasses;return t&&(o+=r+e.collapsibleClass,o+=r+e.isCollapsedClass),l.setAttribute(\"class\",o),l}function c(t){var n=0;return null!==t&&(n=t.offsetTop,e.hasInnerContainers&&(n+=c(t.offsetParent))),n}function d(t){return t&&-1!==t.className.indexOf(e.collapsibleClass)&&-1!==t.className.indexOf(e.isCollapsedClass)?(t.className=t.className.split(r+e.isCollapsedClass).join(\"\"),d(t.parentNode.parentNode)):t}return{enableTocAnimation:function(){i=!0},disableTocAnimation:function(t){var n=t.target||t.srcElement;\"string\"==typeof n.className&&-1!==n.className.indexOf(e.linkClass)&&(i=!1)},render:function(e,n){var l=a(!1);if(n.forEach((function(e){s(e,l)})),null!==(t=e||t))return t.firstChild&&t.removeChild(t.firstChild),0===n.length?t:t.appendChild(l)},updateToc:function(s){var a;a=e.scrollContainer&&document.querySelector(e.scrollContainer)?document.querySelector(e.scrollContainer).scrollTop:document.documentElement.scrollTop||o.scrollTop,e.positionFixedSelector&&function(){var n;n=e.scrollContainer&&document.querySelector(e.scrollContainer)?document.querySelector(e.scrollContainer).scrollTop:document.documentElement.scrollTop||o.scrollTop;var l=document.querySelector(e.positionFixedSelector);\"auto\"===e.fixedSidebarOffset&&(e.fixedSidebarOffset=t.offsetTop),n>e.fixedSidebarOffset?-1===l.className.indexOf(e.positionFixedClass)&&(l.className+=r+e.positionFixedClass):l.className=l.className.split(r+e.positionFixedClass).join(\"\")}();var u,f=s;if(i&&null!==t&&f.length>0){l.call(f,(function(t,n){return c(t)>a+e.headingsOffset+10?(u=f[0===n?n:n-1],!0):n===f.length-1?(u=f[f.length-1],!0):void 0}));var m=t.querySelectorAll(\".\"+e.linkClass);n.call(m,(function(t){t.className=t.className.split(r+e.activeLinkClass).join(\"\")}));var h=t.querySelectorAll(\".\"+e.listItemClass);n.call(h,(function(t){t.className=t.className.split(r+e.activeListItemClass).join(\"\")}));var p=t.querySelector(\".\"+e.linkClass+\".node-name--\"+u.nodeName+'[href=\"'+e.basePath+\"#\"+u.id.replace(/([ #;&,.+*~':\"!^$[\\]()=>|/@])/g,\"\\\\$1\")+'\"]');p&&-1===p.className.indexOf(e.activeLinkClass)&&(p.className+=r+e.activeLinkClass);var C=p&&p.parentNode;C&&-1===C.className.indexOf(e.activeListItemClass)&&(C.className+=r+e.activeListItemClass);var g=t.querySelectorAll(\".\"+e.listClass+\".\"+e.collapsibleClass);n.call(g,(function(t){-1===t.className.indexOf(e.isCollapsedClass)&&(t.className+=r+e.isCollapsedClass)})),p&&p.nextSibling&&-1!==p.nextSibling.className.indexOf(e.isCollapsedClass)&&(p.nextSibling.className=p.nextSibling.className.split(r+e.isCollapsedClass).join(\"\")),d(p&&p.parentNode.parentNode)}}}}},547:e=>{e.exports={tocSelector:\".js-toc\",contentSelector:\".js-toc-content\",headingSelector:\"h1, h2, h3\",ignoreSelector:\".js-toc-ignore\",hasInnerContainers:!1,linkClass:\"toc-link\",extraLinkClasses:\"\",activeLinkClass:\"is-active-link\",listClass:\"toc-list\",extraListClasses:\"\",isCollapsedClass:\"is-collapsed\",collapsibleClass:\"is-collapsible\",listItemClass:\"toc-list-item\",activeListItemClass:\"is-active-li\",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:\"is-position-fixed\",fixedSidebarOffset:\"auto\",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:\"\",disableTocScrollSync:!1}},971:function(e,t,n){var l,o,i;o=[],l=function(e){\"use strict\";var t,l,o,i=n(547),r={},s={},a=n(163),c=n(279),d=n(938),u=!!(e&&e.document&&e.document.querySelector&&e.addEventListener);if(\"undefined\"!=typeof window||u){var f=Object.prototype.hasOwnProperty;return s.destroy=function(){var e=h(r);null!==e&&(r.skipRendering||e&&(e.innerHTML=\"\"),r.scrollContainer&&document.querySelector(r.scrollContainer)?(document.querySelector(r.scrollContainer).removeEventListener(\"scroll\",this._scrollListener,!1),document.querySelector(r.scrollContainer).removeEventListener(\"resize\",this._scrollListener,!1),t&&document.querySelector(r.scrollContainer).removeEventListener(\"click\",this._clickListener,!1)):(document.removeEventListener(\"scroll\",this._scrollListener,!1),document.removeEventListener(\"resize\",this._scrollListener,!1),t&&document.removeEventListener(\"click\",this._clickListener,!1)))},s.init=function(e){if(u){r=function(){for(var e={},t=0;t0&&(!(a=n(s))||r!==a.headingLevel);)a&&void 0!==a.children&&(s=a.children),c--;r>=e.collapseDepth&&(i.isCollapsed=!0),s.push(i)}(i,t.nest),t}),{nest:[]})},selectHeadings:function(t,n){var l=n;e.ignoreSelector&&(l=n.split(\",\").map((function(t){return t.trim()+\":not(\"+e.ignoreSelector+\")\"})));try{return t.querySelectorAll(l)}catch(e){return console.warn(\"Headers not found with selector: \"+l),null}}}}},374:(e,t)=>{t.initSmoothScrolling=function(e){var t=e.duration,n=e.offset,l=location.hash?o(location.href):location.href;function o(e){return e.slice(0,e.lastIndexOf(\"#\"))}document.body.addEventListener(\"click\",(function(i){var r;\"a\"!==(r=i.target).tagName.toLowerCase()||!(r.hash.length>0||\"#\"===r.href.charAt(r.href.length-1))||o(r.href)!==l&&o(r.href)+\"#\"!==l||i.target.className.indexOf(\"no-smooth-scroll\")>-1||\"#\"===i.target.href.charAt(i.target.href.length-2)&&\"!\"===i.target.href.charAt(i.target.href.length-1)||-1===i.target.className.indexOf(e.linkClass)||function(e,t){var n,l,o=window.pageYOffset,i={duration:t.duration,offset:t.offset||0,callback:t.callback,easing:t.easing||function(e,t,n,l){return(e/=l/2)t.clientHeight){var n=t.querySelector(\".\"+e.activeListItemClass);n&&(t.scrollTop=n.offsetTop)}}}},t={};function n(l){var o=t[l];if(void 0!==o)return o.exports;var i=t[l]={exports:{}};return e[l].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),n(971)})();"}],"posts":[{"title":"《Spark HA & Yarn 配置》","slug":"《Spark-HA-Yarn-配置》","date":"2024-06-12T07:29:43.000Z","updated":"2024-06-12T07:31:52.830Z","comments":true,"path":"2024/06/12/《Spark-HA-Yarn-配置》/","permalink":"http://example.com/2024/06/12/%E3%80%8ASpark-HA-Yarn-%E9%85%8D%E7%BD%AE%E3%80%8B/","excerpt":"","text":"《Spark HA &amp; Yarn 配置》Spark HA &amp; Yarn 配置Apache Spark 是一个用于大规模数据处理的快速、通用引擎。在分布式环境中运行 Spark 时，高可用性和资源管理是两项关键功能。Spark 提供了多种部署模式，其中高可用性（HA）模式和与 YARN（Yet Another Resource Negotiator）的集成特别重要。本文将介绍如何在 Spark 中配置这两种模式。 1. Spark 高可用性（HA）配置在 Spark 中，高可用性（HA）模式允许 Master 节点在发生故障时自动切换到备用节点，从而确保集群的连续性和可用性。Spark Standalone 模式支持基于 Apache ZooKeeper 的 HA 配置。 1.1 配置 ZooKeeper在配置 Spark HA 之前，你需要先安装并配置 ZooKeeper 集群。ZooKeeper 提供了分布式协调服务，用于维护配置信息、命名、提供分布式同步和提供组服务。 1.2 配置 Spark Master在 Spark 的 conf 目录下，编辑 spark-env.sh 文件，为 Spark Master 设置 ZooKeeper 的连接字符串。你需要添加类似以下内容的行： bashexport SPARK_DAEMON_JAVA_OPTS&#x3D;”-Dspark.deploy.zookeeper.url&#x3D;zk:&#x2F;&#x2F;zookeeper1:2181,zookeeper2:2181,zookeeper3:2181 -Dspark.deploy.zookeeper.dir&#x3D;&#x2F;spark”这里 zk:&#x2F;&#x2F;zookeeper1:2181,zookeeper2:2181,zookeeper3:2181 是你的 ZooKeeper 集群的连接字符串，&#x2F;spark 是 Spark 在 ZooKeeper 中使用的目录。 1.3 启动 Spark Master在配置完成后，你可以启动多个 Spark Master 实例，并使用相同的 ZooKeeper 配置。Spark 将使用 ZooKeeper 来协调 Master 之间的状态，并在主 Master 节点故障时自动切换到备用 Master。 .4 配置 Worker 节点Worker 节点也需要知道 Master 的 ZooKeeper 配置，但它们通常不需要直接编辑配置文件。相反，Worker 节点在启动时通过 –master 参数连接到 Master 的 ZooKeeper URL。 2. Spark 与 YARN 集成配置YARN（Yet Another Resource Negotiator）是 Hadoop 2.x 中的一个资源管理器，用于管理集群中的资源（如内存和 CPU）。Spark 可以通过 YARN 集群管理器来部署应用程序，从而利用 YARN 的资源管理和调度功能。 2.1 配置 Spark在 Spark 的 conf 目录下，编辑 spark-defaults.conf 文件（如果不存在则创建），添加以下配置来启用 YARN 支持： spark.master yarnspark.executor.memory 1gspark.executor.cores 1spark.driver.memory 1g这里，spark.master 设置为 yarn 以启用 YARN 模式，spark.executor.memory 和 spark.executor.cores 分别设置每个 Executor 的内存和核心数，spark.driver.memory 设置 Driver 程序的内存。 2.2 配置 YARNYARN 的配置主要在 Hadoop 的配置文件中进行，如 yarn-site.xml 和 core-site.xml。你需要确保 YARN 集群已正确配置，并且 Hadoop 的配置文件对 Spark 可见。 2.3 提交 Spark 应用程序到 YARN使用 spark-submit 命令提交 Spark 应用程序到 YARN 集群： bash.&#x2F;bin&#x2F;spark-submit \\ –class com.example.Main \\ –master yarn \\ –deploy-mode cluster \\ &#x2F;path&#x2F;to&#x2F;your-app.jar \\ [application-arguments]在这里，–master yarn 指定使用 YARN 作为集群管理器，–deploy-mode cluster 指定在 YARN 集群上运行 Driver 程序（而不是在客户端上）。 3. 总结通过配置 Spark 的高可用性（HA）模式和与 YARN 的集成，你可以确保 Spark 集群的连续性和可用性，并有效地利用集群资源。HA 模式通过 ZooKeeper 提供了 Master 节点之间的协调，而 YARN 模式则允许 Spark 利用 Hadoop YARN 集群的资源管理和调度功能。这些配置可以根据你的具体需求进行调整和优化。","categories":[],"tags":[]},{"title":"《Spark local& stand-alone 配置》","slug":"《Spark-local-stand-alone-配置》","date":"2024-06-12T07:22:45.000Z","updated":"2024-06-12T07:27:21.065Z","comments":true,"path":"2024/06/12/《Spark-local-stand-alone-配置》/","permalink":"http://example.com/2024/06/12/%E3%80%8ASpark-local-stand-alone-%E9%85%8D%E7%BD%AE%E3%80%8B/","excerpt":"","text":"《Spark local&amp; stand-alone 配置》Spark local &amp; stand-alone 配置Apache Spark 是一个快速、通用的大规模数据处理引擎，它提供了大数据处理的分布式计算能力。Spark 支持多种运行模式，其中 local 和 stand-alone 是最常见的两种模式。本文将介绍如何在本地和单机模式下配置和运行 Spark。 1. Spark local 模式Spark local 模式允许你在单台机器上运行 Spark 应用程序，主要用于开发和测试。在这种模式下，Spark 的所有组件（Driver、Executor）都运行在同一个 JVM 进程中。 1.1 配置在大多数情况下，你不需要进行任何特殊的配置即可在 local 模式下运行 Spark。但是，你可以通过设置环境变量 SPARK_MASTER_URL 来指定 Spark 的主节点 URL，虽然对于 local 模式，这个 URL 通常被设置为 local 或 local[*]。 local：表示 Spark 将在单个线程上运行。local[K]：表示 Spark 将在 K 个线程上运行。local[*]：表示 Spark 将使用所有可用的核心来运行。 1.2 运行你可以通过 spark-shell 或 spark-submit 来在 local 模式下运行 Spark 应用程序。例如： bash 使用所有可用的核心运行 spark-shell.&#x2F;bin&#x2F;spark-shell –master local[*] 使用 spark-submit 提交一个 JAR 文件到 local 模式.&#x2F;bin&#x2F;spark-submit –class com.example.Main –master local[*] &#x2F;path&#x2F;to&#x2F;your-app.jar2. Spark stand-alone 模式Spark stand-alone 模式（或称为 Spark 独立模式）允许你在一个集群中运行 Spark，而不需要依赖外部的资源管理器（如 Hadoop YARN 或 Apache Mesos）。在这种模式下，你需要启动一个 Spark Master 和多个 Spark Worker 节点。 2.1 配置在 stand-alone 模式下，你需要配置 spark-env.sh 文件来设置 Master 和 Worker 的相关参数。这个文件通常位于 Spark 安装目录的 conf 文件夹下。 2.1.1 Spark Master 配置在 spark-env.sh 文件中，设置 SPARK_MASTER_HOST 和 SPARK_MASTER_PORT 来指定 Master 的主机名和端口。例如： bashexport SPARK_MASTER_HOST&#x3D;your-master-hostnameexport SPARK_MASTER_PORT&#x3D;70772.1.2 Spark Worker 配置在 spark-env.sh 文件中，设置 SPARK_WORKER_CORES、SPARK_WORKER_MEMORY 和 SPARK_WORKER_INSTANCES 来指定每个 Worker 的核心数、内存大小和 Worker 实例数。例如： bashexport SPARK_WORKER_CORES&#x3D;2export SPARK_WORKER_MEMORY&#x3D;4gexport SPARK_WORKER_INSTANCES&#x3D;22.1.3 其他配置你还可以配置其他参数，如日志级别、Java 虚拟机选项等。这些配置通常也在 spark-env.sh 文件中进行。 2.2 启动和停止2.2.1 启动 Spark Master在配置好 spark-env.sh 文件后，你可以通过以下命令启动 Spark Master： bash.&#x2F;sbin&#x2F;start-master.sh2.2.2 启动 Spark Worker你可以通过以下命令启动 Spark Worker，并指定 Master 的 URL（如果 Master 和 Worker 不在同一台机器上）： bash.&#x2F;sbin&#x2F;start-worker.sh spark:&#x2F;&#x2F;your-master-hostname:70772.2.3 停止 Spark 集群你可以通过以下命令停止 Spark Master 和 Worker： bash.&#x2F;sbin&#x2F;stop-master.sh.&#x2F;sbin&#x2F;stop-worker.sh 2.3 运行在 stand-alone 模式下运行 Spark 应用程序与在 local 模式下类似，但你需要将 –master 参数设置为 Spark Master 的 URL。例如： bash.&#x2F;bin&#x2F;spark-submit –class com.example.Main –master spark:&#x2F;&#x2F;your-master-hostname:7077 &#x2F;path&#x2F;to&#x2F;your-app.jar 3. 总结Spark local 和 stand-alone 模式为开发和测试 Spark 应用程序提供了灵活的环境。local 模式允许你在单台机器上快速验证你的代码，而 stand-alone 模式则允许你在一个小型集群中模拟生产环境。通过合理配置和运行这些模式，你可以更好地理解和优化你的 Spark 应用程序。","categories":[],"tags":[]},{"title":"《Spark 基础环境配置》","slug":"《Spark-基础环境配置》","date":"2024-06-12T05:22:06.000Z","updated":"2024-06-12T07:17:33.848Z","comments":true,"path":"2024/06/12/《Spark-基础环境配置》/","permalink":"http://example.com/2024/06/12/%E3%80%8ASpark-%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E3%80%8B/","excerpt":"","text":"《Spark 基础环境配置》##Spark 基础环境配置在启动 Apache Spark 集群之前，确保已经搭建好了必要的基础环境，包括 JDK（Java Development Kit）、Hadoop 和 Zookeeper。这些组件为 Spark 提供了必要的运行环境、分布式文件系统和分布式协调服务。下面将详细介绍如何配置这些基础环境。 1. JDK 配置Apache Spark 使用 Java 编写，因此需要先安装 JDK。确保你的系统已经安装了 JDK 8 或更高版本，因为 Spark 官方推荐使用这些版本。安装 JDK你可以从 Oracle 官网下载 JDK 安装包，并按照提示进行安装。安装完成后，配置 JDK 的环境变量，包括 JAVA_HOME、PATH 和 CLASSPATH。 JAVA_HOME：指向 JDK 安装目录，如 &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-8-openjdk-amd64（Linux&#x2F;macOS）或 C:\\Program Files\\Java\\jdk-版本号（Windows）。PATH：添加 JDK 的 bin 目录到 PATH 中，以便在任意目录下都能使用 Java 命令。CLASSPATH：通常不需要手动设置，但在某些情况下可能需要添加 JDK 的库目录。2. Hadoop 配置Hadoop 为 Spark 提供了分布式文件系统（HDFS）和 YARN（Yet Another Resource Negotiator）作为资源管理器。因此，需要先安装和配置 Hadoop。 安装 Hadoop你可以从 Hadoop 官网下载 Hadoop 安装包，并按照官方文档进行安装和配置。安装完成后，需要配置 Hadoop 的环境变量，包括 HADOOP_HOME 和 PATH。 HADOOP_HOME：指向 Hadoop 安装目录。PATH：添加 Hadoop 的 bin 和 sbin 目录到 PATH 中，以便在任意目录下都能使用 Hadoop 命令。配置 HadoopHadoop 的配置文件主要位于 etc&#x2F;hadoop&#x2F; 目录下。你需要根据你的集群环境修改这些配置文件，包括 core-site.xml、hdfs-site.xml、yarn-site.xml 和 mapred-site.xml（可能需要先重命名 mapred-site.xml.template）。 3. Zookeeper 配置Zookeeper 是一个分布式协调服务，用于维护配置信息、命名、提供分布式同步和提供组服务等。在 Spark 中，Zookeeper 通常用于 Spark Streaming 的 Kafka 集成等场景。 安装 Zookeeper你可以从 Apache 官网下载 Zookeeper 安装包，并按照官方文档进行安装和配置。安装完成后，需要配置 Zookeeper 的环境变量，包括 ZOOKEEPER_HOME 和 PATH。 ZOOKEEPER_HOME：指向 Zookeeper 安装目录。PATH：添加 Zookeeper 的 bin 目录到 PATH 中，以便在任意目录下都能使用 Zookeeper 命令。配置 ZookeeperZookeeper 的配置文件主要位于 conf&#x2F; 目录下。你需要根据你的集群环境修改 zoo.cfg 文件，包括设置数据目录、日志目录、监听端口和服务器列表等。 4. 安装和配置 Spark在 JDK、Hadoop 和 Zookeeper 配置完成后，你可以开始安装和配置 Spark。 下载 Spark从 Apache Spark 官网下载适合你操作系统的预编译包。 解压 Spark将下载的 Spark 压缩包解压到你选择的目录。 配置环境变量将 Spark 的 bin 目录添加到你的 PATH 环境变量中，以便在终端中直接运行 Spark 命令。 配置 Spark在 Spark 的 conf&#x2F; 目录下，你可以找到一些配置文件，如 spark-env.sh 和 spark-defaults.conf。你可以根据需要修改这些配置文件，设置 Spark 的运行环境、内存分配、日志级别等。 spark-env.sh：设置 Spark 运行时的环境变量，如 Java 路径、Spark 主目录、内存分配等。spark-defaults.conf：设置 Spark 的默认配置参数，如 Master URL、Executor 内存等。 5. 验证配置在配置完成后，你可以通过运行一些简单的命令或示例代码来验证你的配置是否正确。例如，你可以启动 Spark Shell 并尝试读取 HDFS 上的文件，或者启动一个 Spark 应用程序并观察其在 YARN 上的运行情况。","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2024-06-11T13:04:12.962Z","updated":"2024-06-11T01:21:34.159Z","comments":true,"path":"2024/06/11/hello-world/","permalink":"http://example.com/2024/06/11/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[]}